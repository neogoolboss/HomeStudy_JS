<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p id="hello">안녕</p>
    <button id="button">버튼</button>

    <script>
        // 'use strict'; // strict mode

        document.getElementById('button').addEventListener('click', function() {
            document.getElementById('hello').innerHTML = '바보'
        })

        console.log(this);  // window

        // function 함수() {
        //     console.log(this);  // window, strict mode에서는 undefined
        // }
        // 함수();
        var 오브젝트 = {
            name : 'kim',
            함수 : function() {
                console.log('안녕');
                console.log(this); // 오브젝트 내 함수안에서 쓰면 그 함수를 가지고 있는 오브젝트를 뜻함.
            }
        }

        var 오브젝트1 = {
            data : {
                함수 : function() {
                    console.log(this);
                }
            }
        }

        var 오브젝트2 = {
            data : {
                함수 : () => {
                    console.log(this);
                }
            }
        }

        console.log(오브젝트.name);
        오브젝트.함수();
        오브젝트1.data.함수();
        오브젝트2.data.함수();  // 신문법 Arrow Function 특징 : this 값을 함수 밖에 있던거 그대로 씀

        // this 3 : 기계 안에서 쓰면 새로 생성되는 오브젝트를 뜻함.
        var 어쩌구 = {}
        
        function 기계() {
            this.이름 = 'Kim' // 새로 생성되는 오브젝트 (instance)
        }

        var 오브젝트 = new 기계();
        console.log(오브젝트);

        // this 4 : 이벤트 리스너
        document.getElementById('button').addEventListener('click', function(e) {
            this; // e.currentTarget;
            console.log(this);
            console.log(e.currentTarget);
            let 어레이 = [1,2,3];
            // 어레이.forEach((data) => {
            //     console.log(data);           // arrow function 특징 : 
            //     console.log(this);           // 내부의 this 값을 변화시키지 않음(외부 this 값 그대로 재사용 가능)
            // })
            어레이.forEach(function(data) {
                console.log(this);  // window
            })

            let 오브젝트 = {
                이름들 : ['김', '이', '박'],
                함수 : function() {
                    console.log(this);  // 위 함수를 소유한 오브젝트
                    오브젝트.이름들.forEach(function(data) {
                        console.log(this); // window
                    })
                }
            }
            오브젝트.함수();
        })


    </script>

    

</body>
</html>